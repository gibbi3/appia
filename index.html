<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Appia</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
  </head>
  <body>
    <article class="container">
      <nav class="title-bar">
        <div class="title-section">
          <div class="btn-group">
            <button class="btn btn-secondary btn-lg dropdown-toggle"
              type="button" data-toggle="dropdown" aria-haspopup="true"
              aria-expanded="false" data-bind="click: filterPlacesList">
              Appia
            </button>
            <div class="dropdown-menu">
              <div class="place-list" data-bind="foreach: historicPlacesList">
                <div data-bind="text: name, click: $parent.viewListItem"
                  class="list-item"></div>
              </div>
            </div>
          </div>
          <div class="instructions">Click to see a list of places!</div>
        </div>
        <div class="option-bar">
          <select id="period" onchange="filterPlaces(this.value);"
            data-bind="options: periods,
                       optionsCaption: 'Filter by Period',
                       value: selectedPeriod"></select>
          <div data-bind="click: mapReset" class="reset">Center Map</div>
        </div>
      </nav>
      <div id="map"></div>
    </article>
    <article class="modal fade" id="modal" tabindex="-1" role="dialog"
      aria-labelledby="myModalLabel">
      <div id= "modal-dialog" class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"
              aria-label="Close"><span aria-hidden="true">&times;</span>
            </button>
            <h4 data-bind="text: selectedPlace().name" class="modal-title"
              id="modal-title"></h4>
          </div>
          <div class="modal-body">
            <div class="image-container" data-bind="foreach: gettyImages">
              <img class="modal-image" data-bind="attr: {'src': $data }"></img>
            </div>
            <p data-bind="text: selectedPlace().description" id="description">
            </p>
          </div>
          <div class="modal-footer">
            <div id="error-msg"></div>
            <a id="wiki-link" class="btn" target="myframe"
              data-bind="attr: {'href':wikiUrl}">Learn more</a>
            <button type="button" class="btn btn-default"
              data-dismiss="modal">Neat!</button>
          </div>
        </div>
      </div>
    </article>
    <article class="modal fade" id="wiki-modal" tabindex="-1" role="dialog"
      aria-labelledby="myModalLabel">
      <div id= "wiki-dialog" class="modal-dialog" role="document">
        <div id="wiki-content" class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"
              aria-label="Close"><span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title" id="wiki-title">Wikipedia</h4>
          </div>
          <div class="modal-body">
            <iframe id="iframe" name="myframe" src="" width="100%"
              height="425px" frameBorder="0"></iframe>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default"
              data-dismiss="modal">Good to know!</button>
          </div>
        </div>
      </div>
    </article>
    <script src="bower_components/knockout/dist/knockout.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.3/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/appia.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB5Xao9EpG77CixeEYP_yFpJVE0M8IE0vU&callback=setMap"
        async defer onerror="googleError()"></script>
  </body>
</html>
